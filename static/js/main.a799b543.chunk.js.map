{"version":3,"sources":["components/Tile.jsx","components/keyHandler.js","components/Board.jsx","App.jsx","index.jsx"],"names":["useStyles","makeStyles","paper","width","textAlign","colors","0","2","4","8","16","32","64","128","Tile","value","classes","Paper","className","style","backgroundColor","fontSize","defaultProps","getAllIndexes","arr","val","i","indexes","length","push","handleKeys","event","values","setValues","preventDefault","key","newValues","Array","from","j","JSON","stringify","allIndexes","Math","floor","random","handleRight","handleLeft","handleDown","handleUp","theme","row","margin","display","flexWrap","spacing","height","root","padding","maxWidth","outline","card","Board","useState","initialValues","init","Card","onKeyDown","role","tabIndex","paddingLeft","marginBottom","themes","darkTheme","createMuiTheme","palette","type","lightTheme","App","ThemeProvider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a799b543.chunk.js","sourcesContent":["import { Paper } from '@material-ui/core';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { PropTypes } from 'prop-types';\n\nconst useStyles = makeStyles({\n  paper: {\n    width: '25%',\n    textAlign: 'center',\n  },\n});\nconst colors = {\n  0: '#aeaeae',\n  2: '#eee4da',\n  4: '#eee1c9',\n  8: '#f3b27a',\n  16: '#f69664',\n  32: '#f77c5f',\n  64: '#f75f3b',\n  128: '#edd073',\n};\n\nfunction Tile({ value }) {\n  const classes = useStyles();\n  return (\n    <>\n      <Paper className={classes.paper} style={{ backgroundColor: `${colors[value]}` }}>\n        <p style={{ fontSize: '40px' }}>\n          {value}\n        </p>\n      </Paper>\n    </>\n  );\n}\n\nTile.defaultProps = {\n  value: 1,\n};\n\nTile.propTypes = {\n  value: PropTypes.number,\n};\n\nexport default Tile;\n","function getAllIndexes(arr, val) {\n  const indexes = []; let\n    i;\n  for (i = 0; i < arr.length; i += 1) if (arr[i] === val) indexes.push(i);\n  return indexes;\n}\n\nfunction handleRight(values, setValues) {\n  const newValues = Array.from(values);\n  for (let i = 0; i < 3; i += 1) {\n    for (let j = i * 4; j < i * 4 + 4; j += 1) {\n      if (newValues[j] !== 0) {\n        if (newValues[j] === newValues[j + 4]) {\n          newValues[j] = 0;\n          newValues[j + 4] *= 2;\n        } else if (newValues[j + 4] === 0) {\n          newValues[j + 4] = newValues[j];\n          newValues[j] = 0;\n        }\n      }\n    }\n  }\n  if (JSON.stringify(values) !== JSON.stringify(newValues)) {\n    const allIndexes = getAllIndexes(newValues, 0);\n    newValues[allIndexes[Math.floor(Math.random() * allIndexes.length)]] = 2;\n  }\n  setValues(newValues);\n}\n\nfunction handleLeft(values, setValues) {\n  const newValues = Array.from(values);\n  for (let i = 3; i > 0; i -= 1) {\n    for (let j = i * 4; j < i * 4 + 4; j += 1) {\n      if (newValues[j] !== 0) {\n        if (newValues[j] === newValues[j - 4]) {\n          newValues[j] = 0;\n          newValues[j - 4] *= 2;\n        } else if (newValues[j - 4] === 0) {\n          newValues[j - 4] = newValues[j];\n          newValues[j] = 0;\n        }\n      }\n    }\n  }\n  if (JSON.stringify(values) !== JSON.stringify(newValues)) {\n    const allIndexes = getAllIndexes(newValues, 0);\n    newValues[allIndexes[Math.floor(Math.random() * allIndexes.length)]] = 2;\n  }\n  setValues(newValues);\n}\nfunction handleDown(values, setValues) {\n  const newValues = Array.from(values);\n  for (let i = 0; i < 4; i += 1) {\n    for (let j = i * 4; j < i * 4 + 3; j += 1) {\n      if (newValues[j] !== 0) {\n        if (newValues[j] === newValues[j + 1]) {\n          newValues[j] = 0;\n          newValues[j + 1] *= 2;\n        } else if (newValues[j + 1] === 0) {\n          newValues[j + 1] = newValues[j];\n          newValues[j] = 0;\n        }\n      }\n    }\n  }\n  if (JSON.stringify(values) !== JSON.stringify(newValues)) {\n    const allIndexes = getAllIndexes(newValues, 0);\n    newValues[allIndexes[Math.floor(Math.random() * allIndexes.length)]] = 2;\n  }\n  setValues(newValues);\n}\nfunction handleUp(values, setValues) {\n  const newValues = Array.from(values);\n  for (let i = 0; i < 4; i += 1) {\n    for (let j = i * 4 + 3; j > i * 4; j -= 1) {\n      if (newValues[j] !== 0) {\n        if (newValues[j] === newValues[j - 1]) {\n          newValues[j] = 0;\n          newValues[j - 1] *= 2;\n        } else if (newValues[j - 1] === 0) {\n          newValues[j - 1] = newValues[j];\n          newValues[j] = 0;\n        }\n      }\n    }\n  }\n  if (JSON.stringify(values) !== JSON.stringify(newValues)) {\n    const allIndexes = getAllIndexes(newValues, 0);\n    newValues[allIndexes[Math.floor(Math.random() * allIndexes.length)]] = 2;\n  }\n  setValues(newValues);\n}\n\nfunction handleKeys(event, values, setValues) {\n  event.preventDefault();\n  switch (event.key) {\n    case 'd':\n    case 'ArrowRight':\n      handleRight(values, setValues);\n      break;\n    case 'a':\n    case 'ArrowLeft':\n      handleLeft(values, setValues);\n      break;\n    case 's':\n    case 'ArrowDown':\n      handleDown(values, setValues);\n      break;\n    case 'w':\n    case 'ArrowUp':\n      handleUp(values, setValues);\n      break;\n    default:\n      break;\n  }\n}\n\nexport default handleKeys;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Card } from '@material-ui/core';\nimport Tile from './Tile';\nimport handleKeys from './keyHandler';\n\nconst useStyles = makeStyles((theme) => ({\n  row: {\n    margin: 'auto',\n    display: 'flex',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(1),\n      width: theme.spacing(16),\n      height: theme.spacing(16),\n    },\n  },\n  root: {\n    margin: 'auto',\n    padding: 'auto',\n    maxWidth: '580px',\n    outline: 'none',\n  },\n  card: {\n    padding: '20px 10px 20px 10px',\n    margin: 'auto',\n    maxWidth: '700px',\n  },\n}));\n\nfunction Board() {\n  const [values, setValues] = useState([]);\n  function init() {\n    // eslint-disable-next-line prefer-const\n    let initialValues = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    initialValues[Math.floor(Math.random() * 15)] = 2;\n    setValues(initialValues);\n  }\n  const classes = useStyles();\n\n  if (values.length === 0) {\n    init();\n  }\n  return (\n    <Card className={classes.card}>\n      <div\n        className={classes.root}\n        onKeyDown={(event) => handleKeys(event, values, setValues)}\n        role=\"button\"\n        tabIndex=\"0\"\n      >\n        <div className={classes.row}>\n          <Tile value={values[0]} />\n          <Tile value={values[4]} />\n          <Tile value={values[8]} />\n          <Tile value={values[12]} />\n        </div>\n        <div className={classes.row}>\n          <Tile value={values[1]} />\n          <Tile value={values[5]} />\n          <Tile value={values[9]} />\n          <Tile value={values[13]} />\n        </div>\n        <div className={classes.row}>\n          <Tile value={values[2]} />\n          <Tile value={values[6]} />\n          <Tile value={values[10]} />\n          <Tile value={values[14]} />\n        </div>\n        <div className={classes.row}>\n          <Tile value={values[3]} />\n          <Tile value={values[7]} />\n          <Tile value={values[11]} />\n          <Tile value={values[15]} />\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default Board;\n","import { ThemeProvider, createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { Card } from '@material-ui/core';\nimport Board from './components/Board';\n\nconst useStyles = makeStyles({\n  card: {\n    paddingLeft: '10px',\n    margin: 'auto',\n    marginBottom: '10px',\n    maxWidth: '710px',\n  },\n});\n\nconst themes = {\n  darkTheme: createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  }),\n  lightTheme: createMuiTheme({\n    palette: {\n      type: 'light',\n    },\n  }),\n};\n\nfunction App() {\n  const classes = useStyles();\n  return (\n    <ThemeProvider theme={themes.darkTheme}>\n      <Card className={classes.card}>\n        <p style={{ fontSize: '40px' }}>\n          Simple-2048\n        </p>\n      </Card>\n      <Board />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  // eslint-disable-next-line no-undef\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}